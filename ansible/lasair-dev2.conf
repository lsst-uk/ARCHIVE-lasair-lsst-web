<IfModule mod_ssl.c>
<VirtualHost lasair-dev2.roe.ac.uk:443>

    #### Main Server Config ####
        ServerAdmin roy@roe.ac.uk
        ServerName lasair-dev2.roe.ac.uk
        DocumentRoot /home/ubuntu/lasair-lsst-web/


        WSGIScriptAlias / /home/ubuntu/lasair-lsst-web/src/lasair-webapp/lasair/lasair/wsgi.py process-group=lasair-dev2.roe.ac.uk
        WSGIDaemonProcess lasair-dev.roe.ac.uk python-path=/home/roy/lasair-lsst-web/src/lasair-webapp/lasair:/home/roy/lasair-lsst-web/src/alert_stream_ztf
        WSGIProcessGroup lasair-dev2.roe.ac.uk
        WSGIApplicationGroup %{GLOBAL}

        TimeOut 800

        <Directory /home/ubuntu/lasair-lsst-web/src/lasair-webapp/lasair/lasair>
                <Files wsgi.py>
                        Require all granted
                </Files>
        </Directory>

        Alias /lasair/static /home/ubuntu/lasair-lsst-web/src/lasair-webapp/lasair/lasair/static
        <Directory /home/ubuntu/lasair-lsst-web/src/lasair-webapp/lasair/lasair/static>
                Options FollowSymLinks
                AllowOverride None
                Require all granted
        </Directory>

    #### Error Logs ####
        ErrorLog /var/log/apache2/lasair-error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel debug

        CustomLog /var/log/apache2/lasair-access.log combined
        ServerSignature On

SSLCertificateFile /etc/letsencrypt/live/lasair-dev2.roe.ac.uk/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/lasair-dev2.roe.ac.uk/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateChainFile /etc/letsencrypt/live/lasair-dev2.roe.ac.uk/chain.pem
</VirtualHost>
</IfModule>


